<!DOCTYPE html><html><head><title>Refs</title><meta name="viewport" content="width=device-width, initial-scale=1"><link href="images/favicon.ico" rel="shortcut icon"><meta charset="UTF-8"><script src="/javascripts/vendor.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.37/vue.global.js"></script></head><body class="bg-lighter">
<div class="container main my-5"><div class="row"><main class="col post">
<!-- ç« ç¯€æ¨™é¡Œ --><div class="mb-4"><h1 class="mt-0 text-muted">Refs</h1><small>æª”åï¼š<code>adv-refs.html</code></small></div>
<!-- ğŸ”¥ğŸ”¥ç·´ç¿’é–‹å§‹ğŸ”¥ğŸ”¥ -->


<!-- ä½¿ç”¨ ref å®šç¾©å…ƒç´  -->
<h2>ä½¿ç”¨ ref å®šç¾©å…ƒç´ </h2>
<div id="app1">
	
	<div class="box">
		
		<div class="grid">
			<input type="text" ref="input1">&nbsp;
			<input type="button" value="Focus" @click="focusInputText">&nbsp;
			<input type="button" value="Set value" @click="setInputTextValue">
		</div>
		
		<div class="grid">
			<select ref="select1" @change="changeSelect">
				<option value="">è«‹é¸æ“‡</option>
				<option value="option1">é …ç›®ä¸€</option>
				<option value="option2">é …ç›®äºŒ</option>
			</select>
		</div>
		
	</div>
	
	<div class="box d-flex gap-5">
		<label>
			<input type="checkbox" value="æˆ‘æ˜¯æ ¸å–æ–¹å¡Šä¸€" name="chkbox1" @click="clickChkbox" ref="chkbox1">&nbsp;
			æ ¸å–æ–¹å¡Šä¸€
		</label>
		<label>
			<input type="checkbox" value="æˆ‘æ˜¯æ ¸å–æ–¹å¡ŠäºŒ" name="chkbox1" @click="clickChkbox" ref="chkbox2">&nbsp;
			æ ¸å–æ–¹å¡ŠäºŒ
		</label>
		<label>
			<input type="checkbox" value="æˆ‘æ˜¯æ ¸å–æ–¹å¡Šä¸‰" name="chkbox1" @click="clickChkbox" ref="chkbox3">&nbsp;
			æ ¸å–æ–¹å¡Šä¸‰
		</label>
	</div>
	
	<div class="box d-flex gap-5">
		<label>
			<input type="radio" value="æˆ‘æ˜¯ radio 1" name="radio1" @click="clickRadio" ref="radio1">&nbsp;
			Radio 1
		</label>
		<label>
			<input type="radio" value="æˆ‘æ˜¯ radio 2" name="radio1" @click="clickRadio" ref="radio2">&nbsp;
			Radio 2
		</label>
		<label>
			<input type="radio" value="æˆ‘æ˜¯ radio 3" name="radio1" @click="clickRadio" ref="radio3">&nbsp;
			Radio 3
		</label>
	</div>
	
</div>

<hr>

<!-- ä½¿ç”¨ ref å–å¾—å…ƒä»¶å…§çš„è³‡è¨Š -->
<h2 class="mb-3">ä½¿ç”¨ ref å–å¾—å…ƒä»¶å…§çš„è³‡è¨Š</h2>

<div id="app2">
	
	<div class="box">
		<p>å­å…ƒä»¶æ¨™é¡Œï¼š{{ childTitle }}</p>
		<p>å­å…ƒä»¶å…§å®¹ï¼š{{ childContent }}</p>
		<button type="button" @click="getComponentInfo">å–å¾—å…ƒä»¶è³‡è¨Š</button>
	</div>
	
	<card ref="card"></card>
	<br>
	<button type="button" @click="changeComTitle">ä¿®æ”¹å­å…ƒä»¶æ¨™é¡Œ</button>&nbsp;
	<button type="button" @click="changeComContent">ä¿®æ”¹å­å…ƒä»¶å…§æ–‡</button>
	
</div>

<hr>

<!-- é€²éšç¯„ä¾‹ -->
<h2>é€²éšç¯„ä¾‹</h2>
<p>ä½¿ç”¨ ref æ­é… Bootstrapã€‚</p>

<p class="mb-0">æ–‡ä»¶ï¼š</p>
<ul class="mb-4">
	<li><a href="https://getbootstrap.com/docs/5.0/components/modal/" target="_blank">Bootstrap Modal (è‹±æ–‡ç‰ˆ)</a></li>
	<li><a href="https://bootstrap5.hexschool.com/docs/5.1/components/modal/#via-javascript" target="_blank">Bootstrap Modal (ä¸­æ–‡ç‰ˆ)</a></li>
</ul>

<div id="app3">
	
	<button @click="openModal">é–‹å•Ÿ Bootstrap Modal</button>
	
	<div class="modal" tabindex="-1" ref="modal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Modal title</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<p>Modal body text goes here.</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary">Save changes</button>
				</div>
			</div>
		</div>
	</div>

</div>


<!-- å¦å¤–è¼‰å…¥ Bootstrap CDN -->
<script>

/* ä½¿ç”¨ ref å®šç¾©å…ƒç´  */
console.log(`********** [Create #app1] **********`);

const app1 = Vue.createApp({
	
	methods: {
		focusInputText () {
			this.$refs.input1.focus();
		},
		
		setInputTextValue () {
			this.$refs["input1"].value = "æˆ‘æ˜¯é è¨­æ–‡å­—";
		},
		
		changeSelect (event) {
			const elmtSelect = event.target;
			console.dir(elmtSelect);
			console.log(elmtSelect.options);
			console.log(`option index ==>`, elmtSelect.selectedIndex);
			console.log(`value ==>`, elmtSelect.value);
			console.log(`text ==>`, elmtSelect.selectedOptions[0].text);
			
			this.$refs.input1.value = elmtSelect.selectedOptions[0].text;
		},
		
		clickChkbox () {
			const chkboxList = document.querySelectorAll("input[name=chkbox1]:checked");
			console.log(`æœ‰å‹¾é¸çš„ checkbox ==>`, chkboxList);
			this.showValue(chkboxList);
		},
		
		clickRadio () {
			const radioList = document.querySelectorAll("input[name=radio1]:checked");
			console.log(`æœ‰å‹¾é¸çš„ radio ==>`, radioList);
			this.showValue(radioList);
		},
		
		showValue (elmtList) {
			elmtList.forEach(item => {
				console.log(item.value);
			});
		}
	},
	
	// æ“ä½œ DOM å…ƒç´ éœ€åœ¨æ­¤ç”Ÿå‘½é€±æœŸ
	mounted () {
		console.log(`mounted ==>`, this);
		console.log(``);
		
		/* ä½¿ç”¨ refs æ“ä½œ DOM å…ƒç´  */
		console.log(`this.$refs ==>`, this.$refs);
		console.log(``);
		
		console.log(`input1 ==>`, this.$refs.input1);
		console.log(`select1 ==>`, this.$refs['select1']);
		console.log(`chkbox2 ==>`, this.$refs.chkbox2);
		console.log(`radio3 ==>`, this.$refs["radio3"]);
		
		console.log(``);
		
		/* ä½¿ç”¨ JS æ“ä½œ DOM å…ƒç´  */
		console.log('checkbox ...');
		console.log(document.querySelectorAll("input[name=chkbox1]"));
		
		console.log(``);
		
		console.log(`radio ...`);
		console.log(document.querySelectorAll("input[name=radio1]"));
	},
	
}).mount("#app1");

console.log(``);console.log(``);


/* ä½¿ç”¨ ref å–å¾—å…ƒä»¶å…§çš„è³‡è¨Š */
console.log(`********** [Create #app2] **********`);

const app2 = Vue.createApp({
	
	data () {
		return {
			childTitle: '',
			childContent: '',
		}
	},
	
	methods: {
		getComponentInfo () {
			console.log(`[getComponentInfo] this.$refs.card ==>`, this.$refs.card);
			this.childTitle = this.$refs.card.title;
			this.childContent = this.$refs.card.content;
		},
		
		changeComTitle () {
			console.log(`[changeComTitle] this.$refs.card ==>`, this.$refs.card);
			this.$refs.card.title = "æˆ‘æŠŠå­å…ƒä»¶æ¨™é¡Œæ”¹æ‰äº†ï¼";
		},
		
		changeComContent () {
			console.log(`[changeComContent] this.$refs.card ==>`, this.$refs.card);
			this.$refs.card.content = "æˆ‘æŠŠå­å…ƒä»¶å…§æ–‡æ”¹æ‰äº†ï¼å“ˆå“ˆå“ˆï¼";
		},
	},
	
	mounted () {
		console.log(`this.$refs ==>`, this.$refs);
	}
});

app2.component('card', {
	data () {
		return {
			title: 'æˆ‘æ˜¯å­å…ƒä»¶æ¨™é¡Œ 1234567',
			content: 'æˆ‘æ˜¯å­å…ƒä»¶å…§æ–‡ abcdefg'
		}
	},
	
	template: `<div class="card" style="width: 18rem;">`
			+ `<div class="card-body">`
			+ `<h5 class="card-title">{{ title }}</h5>`
			+ `<p class="card-text">{{ content }}</p>`
			+ `</div>`
			+ `</div>`,
});

app2.mount("#app2");

console.log(``);console.log(``);


/* é€²éšç¯„ä¾‹ */
console.log(`********** [Create #app3] **********`);

const app = Vue.createApp({
	data () {
		return {
			bsModal: ''
		}
	},
	
	methods: {
		openModal () {
			this.bsModal.show();
		}
	},
	
	// æ“ä½œ DOM å…ƒç´ éœ€åœ¨æ­¤ç”Ÿå‘½é€±æœŸ
	mounted () {
		console.log(`this.$refs ==>`, this.$refs);
		this.bsModal = new bootstrap.Modal(this.$refs.modal);
		console.log(`bsModal ==>`, this.bsModal);
	},
	
})

app.mount('#app3');

console.log(``);
console.log(``);

</script>


<!-- ğŸ™‡ğŸ™‡ç·´ç¿’çµæŸğŸ™‡ğŸ™‡ -->
</main>
  
    <aside
      class="col-md-3"><div class="sticky-top" style="top: 76px">
  <div class="list-group">
  
    <a href="/advApi/adv-refs.html"
      class="list-group-item list-group-item-action
        
        active">
      Refs
    </a>
  
    <a href="/advApi/adv-teleport.html"
      class="list-group-item list-group-item-action
        
        ">
      Teleport
    </a>
  
    <a href="/advApi/adv-provide.html"
      class="list-group-item list-group-item-action
        
        ">
      è·¨å±¤ç´šè³‡æ–™å‚³é Provide
    </a>
  
    <a href="/advApi/adv-component-v-model.html"
      class="list-group-item list-group-item-action
        
        ">
      è£½ä½œåŒ…å« v-model çš„å…ƒä»¶
    </a>
  
    <a href="/advApi/adv-mixins.html"
      class="list-group-item list-group-item-action
        
        ">
      Mixin æ··åˆ
    </a>
  
    <a href="/advApi/adv-extend.html"
      class="list-group-item list-group-item-action
        
        ">
      Extend æ“´å±•
    </a>
  
    <a href="/advApi/adv-directive.html"
      class="list-group-item list-group-item-action
        
        ">
      è‡ªè¨‚ç¾©æŒ‡ä»¤
    </a>
  
    <a href="/advApi/adv-use-plugin.html"
      class="list-group-item list-group-item-action
        
        ">
      å¤–éƒ¨å¥—ä»¶å¼•ç”¨
    </a>
  
    <a href="/advApi/adv-vee-validation.html"
      class="list-group-item list-group-item-action
        
        ">
      è¡¨å–®é©—è­‰å¥—ä»¶
    </a>
  
  </div>
  <div class="mt-3 text-end p-2 bg-light rounded">
    <small class="text-black-50 fw-light mb-0">æ–‡ä»¶ç‰ˆæœ¬ï¼š2022/11/1</small>
  </div>
</div>

</aside>
    
  </div>
</div>

<nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-secondary">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Vue 3 ç·´ç¿’æ‰‹å†Š</a>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link " href="/es6/shorthand.html">JS å¿…å‚™è§€å¿µ</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/intro/createApp.html">èªè­˜ Vue.js</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/template/v-text.html">æ¨¡æ¿</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/optionsApi/options-methods.html">æ–¹æ³•</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/components/component_register.html">å…ƒä»¶</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/advApi/adv-refs.html">é€²éš</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/router/vue-router.html">è·¯ç”±</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/composition/proxy.html">Composition API</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/pinia/layout.html">Pinia</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<footer class="footer py-2 bg-light">
  <div class="container text-center">
    <small class="text-black-50 fw-light mb-0">å…­è§’å­¸é™¢ Vue èª²ç¨‹å°ˆå±¬æ–‡ä»¶</small>
  </div>
</footer>
<link rel="stylesheet" href="/stylesheets/all.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
</body>
</html>
