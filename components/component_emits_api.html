<!DOCTYPE html><html><head><title>Emits é©—è­‰</title><meta name="viewport" content="width=device-width, initial-scale=1"><link href="images/favicon.ico" rel="shortcut icon"><meta charset="UTF-8"><script src="/javascripts/vendor.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.37/vue.global.js"></script></head><body class="bg-lighter">
<div class="container main my-5"><div class="row"><main class="col post">
<!-- ç« ç¯€æ¨™é¡Œ --><div class="mb-4"><h1 class="mt-0 text-muted">Emits é©—è­‰</h1><small>æª”åï¼š<code>component_emits_api.html</code></small></div>
<!-- ğŸ”¥ğŸ”¥ç·´ç¿’é–‹å§‹ğŸ”¥ğŸ”¥ -->


<div id="app">
	
	<!-- Emits API -->
	<h2 class="mb-3">Emits API</h2>
	<button-counter @add="addNum" class="mb-3"></button-counter>
	{{ num }}
	
	<hr>
	
	<!-- é©—è­‰è³‡æ–™å…§å®¹ -->
	<h2 class="mb-3">é©—è­‰è³‡æ–™å…§å®¹</h2>
	<button-counter2 @add = "addNum"></button-counter2>
	
	<hr>
	
	<!-- ç¶œåˆæ¸¬è©¦ -->
	<h2 class="mb-3">ç¶œåˆæ¸¬è©¦</h2>
	<p>
		ç”± test2 æ¸¬è©¦è§€å¯Ÿç™¼ç¾ï¼Œç•¶å­å…ƒä»¶æ˜¯ç¶“ç”± <span class="bold">æ–¹æ³•</span> è§¸ç™¼ Emit æ™‚ï¼ŒåŸ·è¡Œéç¨‹æœƒæ˜¯ï¼šå­å…ƒä»¶æ–¹æ³• -> Emit é©—è­‰ -> çˆ¶å…ƒä»¶æ–¹æ³•ã€‚<br>
		è€Œå­å…ƒä»¶æ–¹æ³•æœƒä¸€ç›´åˆ°çˆ¶å…ƒä»¶æ–¹æ³•åŸ·è¡Œå®Œç•¢å¾Œï¼Œæ‰æœƒçµæŸã€‚
	</p>
	
	<mix-test 
		@test1="test1" 
		@test3="test1" 
		@test4="test1" 
	></mix-test>
	
</div>


<script type="module">
	
const app = Vue.createApp({
	data() {
		return {
			num: 0,
		};
	},
	methods: {
		addNum(num) {
			this.num = this.num + num;
		},
		
		test1 (param1, param2) {
			console.log(`[Parent] test1 ...`);
			console.log(`param1 ==>`, param1, typeof param1);
			console.log(`param2 ==>`, param2, typeof param2);
			console.log(``);
		}
	}
});


/* Emits API */
app.component('button-counter', {
	data () {
		return {
			num: 1,
		}
	},
	
	// ä¸»è¦æœƒå‡ºç¾åœ¨è©²å€¼æ˜¯ç”± data å®šç¾©ï¼Œä½†é›£ä»¥è¿½è¹¤ä»–çš„è®ŠåŒ–æ™‚æœƒå‡ºç¾
	emits: ['add'],
	
	template: `<div class="box">`
			+ `<button type="button" @click="num++">+ 1</button>&nbsp;&nbsp;&nbsp;ç´¯åŠ å™¨åˆå§‹å€¼ï¼š{{ num }}`
			+ `<br><br>`
			+ `<button type="button" @click="$emit('add', num)">Add</button>`
			+ `</div>`
});


/* é©—è­‰è³‡æ–™å…§å®¹ */
app.component('button-counter2', {
	emits: {
		add: (param) => {
			console.clear();
			console.log(`param ==>`, param, typeof param);
			
			if (!(typeof param === 'number')) {
				alert("åƒæ•¸å¿…é ˆç‚ºæ•¸å­—ï¼")
				return false;
			}
			
			return true;
		},
	},
	
	template: `<button type="button" @click="$emit('add', '1')">Emit é©—è­‰æ˜¯å¦ç‚ºæ•¸å€¼ (å­—ä¸²)</button>&nbsp;&nbsp;&nbsp;`
			+ `<button type="button" @click="$emit('add', 1)">Emit é©—è­‰æ˜¯å¦ç‚ºæ•¸å€¼ (æ•¸å­—)</button>`
});


/* ç¶œåˆæ¸¬è©¦ */
app.component('mix-test', {
	
	template: `<div class="flex-btn-group">`
			+ `<button type="button" @click="$emit('test1', 'T1', 1)">test1 (ç›´æ¥è§¸ç™¼ Emitï¼Œæœ‰é©—è­‰)</button>`
			+ `<button type="button" @click="test2('T2', 2)">test2 (å‘¼å«æ–¹æ³• test2 è§¸ç™¼ Emitï¼Œæœ‰é©—è­‰)</button>`
			+ `<button type="button" @click="$emit('test3', 'T3', 3)">test3 (ç›´æ¥è§¸ç™¼ Emitï¼Œç„¡é©—è­‰)</button>`
			+ `<button type="button" @click="test4('T4', 4)">test4 (å‘¼å«æ–¹æ³• test4 è§¸ç™¼ Emitï¼Œç„¡é©—è­‰)</button>`
			+ `</div>`
			+ ``,
	
	emits: {
		test1 (param1, param2) {
			console.log(`[Child] test1 æª¢æ ¸ ...`);
			console.log(`param1 ==>`, param1, typeof param1);
			console.log(`param2 ==>`, param2, typeof param2);
			console.log(``);
			return true;
		},
	},
	
	methods: {
		test2 (param1, param2) {
			console.clear();
			console.log(`[Child] test2 æ–¹æ³• ...`);
			console.log(`param1 ==>`, param1, typeof param1);
			console.log(`param2 ==>`, param2, typeof param2);
			
			console.log(`before $emit (test1) ...`);
			console.log(``);
			
			this.$emit('test1', param1, param2);
			
			console.log(`after $emit (test1) ...`);
			console.log(``);
		},
		
		test4 (param1, param2) {
			console.clear();
			console.log(`[Child] test4 æ–¹æ³• ...`);
			console.log(`param1 ==>`, param1, typeof param1);
			console.log(`param2 ==>`, param2, typeof param2);
			
			console.log(`before $emit (test4) ...`);
			console.log(``);
			
			this.$emit('test4', param1, param2);
			
			console.log(`after $emit (test4) ...`);
			console.log(``);
		},
	},
});

app.mount('#app');

</script>



<!-- ğŸ™‡ğŸ™‡ç·´ç¿’çµæŸğŸ™‡ğŸ™‡ -->
</main>
  
    <aside
      class="col-md-3"><div class="sticky-top" style="top: 76px">
  <div class="list-group">
  
    <a href="/components/component_register.html"
      class="list-group-item list-group-item-action
        
        ">
      å…ƒä»¶è¨»å†Š
    </a>
  
    <a href="/components/component_template.html"
      class="list-group-item list-group-item-action
        
        ">
      å…ƒä»¶æ¨£æ¿åŠç¶å®šæ–¹å¼
    </a>
  
    <a href="/components/component_props.html"
      class="list-group-item list-group-item-action
        
        ">
      Props
    </a>
  
    <a href="/components/component_props_type.html"
      class="list-group-item list-group-item-action
        
        ">
      Props å‹åˆ¥èˆ‡é©—è­‰
    </a>
  
    <a href="/components/component_emits.html"
      class="list-group-item list-group-item-action
        
        ">
      Emit å‚³éäº‹ä»¶
    </a>
  
    <a href="/components/component_emits_api.html"
      class="list-group-item list-group-item-action
        
        active">
      Emits é©—è­‰
    </a>
  
    <a href="/components/component_slot.html"
      class="list-group-item list-group-item-action
        
        ">
      å…ƒä»¶æ’å·¢
    </a>
  
    <a href="/components/component_slot_props.html"
      class="list-group-item list-group-item-action
        
        ">
      å…ƒä»¶æ’å·¢ Props
    </a>
  
    <a href="/components/component_mitt.html"
      class="list-group-item list-group-item-action
        
        ">
      è·¨å…ƒä»¶æºé€š
    </a>
  
    <a href="/components/component_final.html"
      class="list-group-item list-group-item-action
        
        ">
      å…ƒä»¶ç« ç¯€ä½œæ¥­
    </a>
  
  </div>
  <div class="mt-3 text-end p-2 bg-light rounded">
    <small class="text-black-50 fw-light mb-0">æ–‡ä»¶ç‰ˆæœ¬ï¼š2022/11/1</small>
  </div>
</div>

</aside>
    
  </div>
</div>

<nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-secondary">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Vue 3 ç·´ç¿’æ‰‹å†Š</a>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link " href="/es6/shorthand.html">JS å¿…å‚™è§€å¿µ</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/intro/createApp.html">èªè­˜ Vue.js</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/template/v-text.html">æ¨¡æ¿</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/optionsApi/options-methods.html">æ–¹æ³•</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/components/component_register.html">å…ƒä»¶</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/advApi/adv-refs.html">é€²éš</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/router/vue-router.html">è·¯ç”±</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/composition/proxy.html">Composition API</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/pinia/layout.html">Pinia</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<footer class="footer py-2 bg-light">
  <div class="container text-center">
    <small class="text-black-50 fw-light mb-0">å…­è§’å­¸é™¢ Vue èª²ç¨‹å°ˆå±¬æ–‡ä»¶</small>
  </div>
</footer>
<link rel="stylesheet" href="/stylesheets/all.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
</body>
</html>
