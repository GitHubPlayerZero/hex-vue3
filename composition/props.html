<!DOCTYPE html><html><head><title>Props</title><meta name="viewport" content="width=device-width, initial-scale=1"><link href="images/favicon.ico" rel="shortcut icon"><meta charset="UTF-8"><script src="/javascripts/vendor.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.37/vue.global.js"></script></head><body class="bg-lighter">
<div class="container main my-5"><div class="row"><main class="col post">
<!-- ç« ç¯€æ¨™é¡Œ --><div class="mb-4"><h1 class="mt-0 text-muted">Props</h1><small>æª”åï¼š<code>props.html</code></small></div>
<!-- ğŸ”¥ğŸ”¥ç·´ç¿’é–‹å§‹ğŸ”¥ğŸ”¥ -->


<div id="app">
	<p>{{ person }}</p>
	<card :person-obj="person" num="123"></card>
</div>


<script type="module">
	
const { createApp, ref, toRef } = Vue;

const card = {
	template: ``
		+ `<div class="card">`
		+ `<div class="card-body">`
		+ `<h5 class="card-title"></h5>`
		+ `<div class="box">`
		+ `<p class="bold">ç‰©ä»¶æœƒè‡ªå‹•è¢«åŒ…è£ç‚º Proxyï¼Œè‡ªç„¶åœ°èˆ‡ç•«é¢ç¶å®šã€‚</p>`
		+ `<p>personObjï¼š{{ personObj }}</p>`
		+ `<p>
			personObj.nameï¼š<input type="text" v-model="personObj.name">&nbsp;&nbsp;
			<button type="button" @click="showPersonObj">é¡¯ç¤º personObj</button>
			</p>`
		+ `<p>
			personObj.father.nameï¼š<input type="text" v-model="personObj.father.name">&nbsp;&nbsp;
			<button type="button" @click="showFather">é¡¯ç¤º father</button>
			</p>`
		+ `<br>`
		+ `<p class="bold">ç”±ç‰©ä»¶ä¸­å–å‡ºçš„ç´”å€¼ç„¡æ³•è‡ªå‹•èˆ‡ç•«é¢ç¶å®šã€‚</p>`
		+ `<p>
			nameï¼š<input type="text" v-model="name"> {{ name }}&nbsp;&nbsp;
			<button type="button" @click="showName">é¡¯ç¤º name</button>
			</p>`
		+ `<br>`
		+ `<p class="bold">éœ€è¦è‡ªå·±ä½¿ç”¨ ref åŒ…è£ç´”å€¼æ‰èƒ½èˆ‡ç•«é¢ç¶å®šã€‚</p>`
		+ `<p>
			refNameï¼š<input type="text" v-model="refName"> {{ refName }}&nbsp;&nbsp;
			<button type="button" @click="showRefName">é¡¯ç¤º refName</button>
			</p>`
		+ `</div>`
		+ `<div class="box">`
		+ `<p class="bold">ç”± props ä¸­å–å‡ºçš„ç´”å€¼ç„¡æ³•è‡ªå‹•èˆ‡ç•«é¢ç¶å®šã€‚</p>`
		+ `<p>
			numï¼š{{ num }}&nbsp;&nbsp;&nbsp;<input type="num" v-model="num">&nbsp;&nbsp;
			<button type="button" @click="showNum">é¡¯ç¤º num</button>
			</p>`
		+ `<br>`
		+ `<p class="bold">éœ€è¦è‡ªå·±ä½¿ç”¨ ref åŒ…è£ç´”å€¼æ‰èƒ½èˆ‡ç•«é¢ç¶å®šã€‚</p>`
		+ `<p>
			refNumï¼š{{ refNum }}&nbsp;&nbsp;&nbsp;<input type="refNum" v-model="refNum">&nbsp;&nbsp;
			<button type="button" @click="showRefNum">é¡¯ç¤º refNum</button>
			</p>`
		+ `</div>`
		+ `</div>`
		+ `</div>`
		+ ``,
	
	// èˆ‡ Options API ä¸€æ¨£ï¼Œè¦å®šç¾© props
	props: ['personObj', 'num'],
	
	// çˆ¶å…ƒä»¶å‚³å…¥çš„ props æœƒä»¥ Proxy åŒ…è£å¾Œï¼Œä»¥ç¬¬ä¸€å€‹åƒæ•¸å‚³å…¥ setup
	setup (param1) {
		console.log(`param1 ==>`, param1);
		console.log(``);
		
		/*
			æ³¨æ„ï¼š
			1. ç”± props å–å‡ºçš„è‹¥æ˜¯ç‰©ä»¶ (ä¸ç®¡æ˜¯ç›´æ¥å–å±¬æ€§æˆ–æ˜¯è§£æ§‹)ï¼Œå¦‚ personObjï¼Œå…¶åŸæœ¬å³ç‚º Proxy ç‰©ä»¶ï¼Œè‡ªç„¶åœ°èˆ‡ç•«é¢ç¶å®šã€‚
			2. ç”± props å–å‡ºçš„è‹¥æ˜¯ç´”å€¼ï¼Œå¦‚ numï¼Œå‰‡ç„¡æ³•èˆ‡ç•«é¢ç¶å®šã€‚
				è‹¥æƒ³èˆ‡ç•«é¢ç¶å®šï¼Œéœ€è¦è‡ªå·±ä½¿ç”¨ ref çš„æ–¹å¼ã€‚
		*/
		// å¯ä»¥ç›´æ¥ä½¿ç”¨å–å‡ºç‰©ä»¶å±¬æ€§çš„æ–¹å¼
		// const personObj = param1.personObj;
		// const num = param1.num;
		const refNum = ref(param1.num);
		
		// ä¹Ÿå¯ä»¥ä½¿ç”¨è§£æ§‹çš„æ–¹å¼
		const { personObj, num } = param1;
		
		console.log(`personObj ==>`, personObj);
		console.log(`num ==>`, num);
		console.log(`refNum ==>`, refNum);
		
		const showPersonObj = () => {
			console.log(``);
			console.log(`personObj ==>`, personObj);
		};
		
		const showNum = () => {
			console.log(``);
			console.log(`num ==>`, num);
		};
		const showRefNum = () => {
			console.log(``);
			console.log(`refNum.value ==>`, refNum.value);
		};
		
		console.log(``);
		
		
		/*
			ç”±ç‰©ä»¶ä¸­å–å‡ºå±¬æ€§æˆç‚ºæ–°çš„è®Šæ•¸
			1. å–å‡ºçš„å±¬æ€§è‹¥ç‚ºç‰©ä»¶ (ä¸ç®¡æ˜¯ç›´æ¥å–å±¬æ€§æˆ–æ˜¯è§£æ§‹)ï¼Œå¦‚ personObj.fatherï¼Œå…¶æœƒè¢«è‡ªå‹•åŒ…è£ç‚º Proxy ç‰©ä»¶ï¼Œè‡ªç„¶åœ°èˆ‡ç•«é¢ç¶å®šï¼Œä¹Ÿæœƒå½±å“åŸç‰©ä»¶ã€‚
			2. å–å‡ºçš„å±¬æ€§è‹¥ç‚ºç´”å€¼ï¼Œå¦‚ personObj.nameï¼Œå‰‡ç„¡æ³•èˆ‡ç•«é¢ç¶å®šã€‚
				è‹¥æƒ³èˆ‡ç•«é¢ç¶å®šï¼Œéœ€è¦è‡ªå·±ä½¿ç”¨ ref çš„æ–¹å¼ã€‚
				è¦æ³¨æ„çš„æ˜¯ï¼Œç”±ç‰©ä»¶å–å‡ºç´”å€¼æ‰€æ§‹æˆçš„æ–°è®Šæ•¸ï¼Œå·²èˆ‡åŸç‰©ä»¶è„«å‹¾ï¼›è‹¥æƒ³è¦çš„æ˜¯æ“ä½œåŸç‰©ä»¶ï¼Œé‚£æ‡‰è©²è¦ä½¿ç”¨ã€Œç‰©ä»¶.å±¬æ€§ã€çš„æ–¹å¼ã€‚
		*/
		// const father = personObj.father;
		const { father } = personObj;
		const { name } = personObj;
		const refName = ref(personObj.name);
		console.log(`father ==>`, father);
		console.log(`name ==>`, name);
		console.log(`refName ==>`, refName);
		
		const showFather = () => {
			console.log(``);
			console.log(`father ==>`, father);
		};
		
		const showName = () => {
			console.log(``);
			console.log(`name ==>`, name);
		};
		const showRefName = () => {
			console.log(``);
			console.log(`refName.value ==>`, refName.value);
		};
		
		
		return {
			personObj, num, refNum,
			showPersonObj, showNum, showRefNum,
			name, refName,
			showFather, showName, showRefName,
		}
	}
};

const app = createApp({
	components: {
		card,
	},
	
	setup () {
		const person = ref({
			name: 'å°æ˜',
			age: 20,
			father: {
				name: 'è€æ˜',
			},
		});

		return {
			person
		}
	},
});

app.mount('#app');

</script>


<!-- ğŸ™‡ğŸ™‡ç·´ç¿’çµæŸğŸ™‡ğŸ™‡ -->
</main>
  
    <aside
      class="col-md-3"><div class="sticky-top" style="top: 76px">
  <div class="list-group">
  
    <a href="/composition/proxy.html"
      class="list-group-item list-group-item-action
        
        ">
      Proxy
    </a>
  
    <a href="/composition/setup.html"
      class="list-group-item list-group-item-action
        
        ">
      Setup èµ·æ‰‹å¼
    </a>
  
    <a href="/composition/reactive.html"
      class="list-group-item list-group-item-action
        
        ">
      Reactive
    </a>
  
    <a href="/composition/ref.html"
      class="list-group-item list-group-item-action
        
        ">
      Ref
    </a>
  
    <a href="/composition/reactive_ref.html"
      class="list-group-item list-group-item-action
        
        ">
      Reactive èˆ‡ Ref
    </a>
  
    <a href="/composition/composition_methods.html"
      class="list-group-item list-group-item-action
        
        ">
      Composition èˆ‡ Methods
    </a>
  
    <a href="/composition/composition_and_options.html"
      class="list-group-item list-group-item-action
        
        ">
      Options API ä¸­...
    </a>
  
    <a href="/composition/props.html"
      class="list-group-item list-group-item-action
        
        active">
      Props
    </a>
  
    <a href="/composition/context.html"
      class="list-group-item list-group-item-action
        
        ">
      Context
    </a>
  
    <a href="/composition/dom_refs.html"
      class="list-group-item list-group-item-action
        
        ">
      $Refs
    </a>
  
    <a href="/composition/composition_provide.html"
      class="list-group-item list-group-item-action
        
        ">
      Provide èˆ‡ Inject
    </a>
  
    <a href="/composition/composition_watch.html"
      class="list-group-item list-group-item-action
        
        ">
      Watch
    </a>
  
    <a href="/composition/composition_watchEffect.html"
      class="list-group-item list-group-item-action
        
        ">
      Watch Effect
    </a>
  
    <a href="/composition/composition_kata.html"
      class="list-group-item list-group-item-action
        
        ">
      KATA ç·´ç¿’
    </a>
  
  </div>
  <div class="mt-3 text-end p-2 bg-light rounded">
    <small class="text-black-50 fw-light mb-0">æ–‡ä»¶ç‰ˆæœ¬ï¼š2022/11/1</small>
  </div>
</div>

</aside>
    
  </div>
</div>

<nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-secondary">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Vue 3 ç·´ç¿’æ‰‹å†Š</a>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link " href="/es6/shorthand.html">JS å¿…å‚™è§€å¿µ</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/intro/createApp.html">èªè­˜ Vue.js</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/template/v-text.html">æ¨¡æ¿</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/optionsApi/options-methods.html">æ–¹æ³•</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/components/component_register.html">å…ƒä»¶</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/advApi/adv-refs.html">é€²éš</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/router/vue-router.html">è·¯ç”±</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/composition/proxy.html">Composition API</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="/pinia/layout.html">Pinia</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<footer class="footer py-2 bg-light">
  <div class="container text-center">
    <small class="text-black-50 fw-light mb-0">å…­è§’å­¸é™¢ Vue èª²ç¨‹å°ˆå±¬æ–‡ä»¶</small>
  </div>
</footer>
<link rel="stylesheet" href="/stylesheets/all.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
</body>
</html>
